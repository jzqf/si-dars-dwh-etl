<job>
  <name>jb_target-compare_table</name>
  <description />
  <extended_description />
  <job_version />
  <job_status>0</job_status>
  <directory>/generic/target_compare</directory>
  <created_user>-</created_user>
  <created_date>2016/04/03 14:57:58.609</created_date>
  <modified_user>-</modified_user>
  <modified_date>2018/04/19 10:47:44.623</modified_date>
  <parameters>
    <parameter>
      <name>PARAM_CDC_LAST_LOAD_UTC</name>
      <default_value>1900.01.01 00:00:00</default_value>
      <description>Timestamp of last successful load from the source database</description>
    </parameter>
    <parameter>
      <name>PARAM_DYN_DB_CONN_TARGET_DB_DATABASE</name>
      <default_value />
      <description>for target DB "dynamic" database connections</description>
    </parameter>
    <parameter>
      <name>PARAM_DYN_DB_CONN_TARGET_DB_DRIVER</name>
      <default_value />
      <description>for target DB "dynamic" database connections</description>
    </parameter>
    <parameter>
      <name>PARAM_DYN_DB_CONN_TARGET_DB_HOST</name>
      <default_value />
      <description>for target DB "dynamic" database connections</description>
    </parameter>
    <parameter>
      <name>PARAM_DYN_DB_CONN_TARGET_DB_PASSWORD</name>
      <default_value />
      <description>for target DB "dynamic" database connections</description>
    </parameter>
    <parameter>
      <name>PARAM_DYN_DB_CONN_TARGET_DB_PORT</name>
      <default_value />
      <description>for target DB "dynamic" database connections</description>
    </parameter>
    <parameter>
      <name>PARAM_DYN_DB_CONN_TARGET_DB_URL</name>
      <default_value />
      <description>for target DB "dynamic" database connections</description>
    </parameter>
    <parameter>
      <name>PARAM_DYN_DB_CONN_TARGET_DB_USERNAME</name>
      <default_value />
      <description>for target DB "dynamic" database connections</description>
    </parameter>
    <parameter>
      <name>PARAM_MAX_NUM_COMPARE_ROWS</name>
      <default_value>100000</default_value>
      <description>Maximum number of rows that will be compared for these tables. Pass 0 for *all* rows.</description>
    </parameter>
    <parameter>
      <name>PARAM_SOURCE_DB_ID</name>
      <default_value>-1</default_value>
      <description>ID the "source" database containing tables will be mirrored to a "target" database</description>
    </parameter>
    <parameter>
      <name>PARAM_SOURCE_INSERT_ID_COLNAME</name>
      <default_value />
      <description>Name of column acting as "insert_id" column of source table - Do *not* specify a default value!</description>
    </parameter>
    <parameter>
      <name>PARAM_SOURCE_SCHEMA</name>
      <default_value>passage</default_value>
      <description>Name of schema containing source table to mirror to target table</description>
    </parameter>
    <parameter>
      <name>PARAM_SOURCE_SCHEMA_TABLE</name>
      <default_value>passage.image</default_value>
      <description>${PARAM_SOURCE_SCHEMA}.${PARAM_SOURCE_TABLE}</description>
    </parameter>
    <parameter>
      <name>PARAM_SOURCE_TABLE</name>
      <default_value>image</default_value>
      <description>Name of source table to mirror to target table</description>
    </parameter>
    <parameter>
      <name>PARAM_TABLE_META_ID</name>
      <default_value>0</default_value>
      <description>Primary key of ${QF_ETL_DB_SCHEMA}.table_meta row for "source" table archived/mirrored to "target" table</description>
    </parameter>
    <parameter>
      <name>PARAM_TARGET_DB_ID</name>
      <default_value>-1</default_value>
      <description>ID of the "target" database to which "source" DB tables have been archived/mirrored</description>
    </parameter>
    <parameter>
      <name>PARAM_TARGET_INSERT_ID_COLNAME</name>
      <default_value />
      <description>Name of column acting as "insert_id" column of target table - Do *not* specify a default value!</description>
    </parameter>
    <parameter>
      <name>PARAM_TARGET_SCHEMA</name>
      <default_value>passage</default_value>
      <description>Name of schema containing target table to update (not currently used)</description>
    </parameter>
    <parameter>
      <name>PARAM_TARGET_SCHEMA_TABLE</name>
      <default_value>passage.image</default_value>
      <description>${PARAM_TARGET_SCHEMA}.${PARAM_TARGET_TABLE}</description>
    </parameter>
    <parameter>
      <name>PARAM_TARGET_TABLE</name>
      <default_value>image</default_value>
      <description>Name of target table to update (not currently used)</description>
    </parameter>
    <parameter>
      <name>PARAM_UPDATE_ALGORITHM_ID</name>
      <default_value />
      <description>ID of the algorithm used for mirroring/archiving the tables</description>
    </parameter>
  </parameters>
  <connection>
    <name>etl_db</name>
    <server>${QF_ETL_DB_HOST}</server>
    <type>POSTGRESQL</type>
    <access>Native</access>
    <database>${QF_ETL_DB_DATABASE}</database>
    <port>${QF_ETL_DB_PORT}</port>
    <username>${QF_ETL_DB_USERNAME}</username>
    <password>${QF_ETL_DB_PASSWORD}</password>
    <servername />
    <data_tablespace />
    <index_tablespace />
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>${QF_ETL_DB_PORT}</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <connection>
    <name>logging_db</name>
    <server>${QF_LOGGING_DB_HOST}</server>
    <type>POSTGRESQL</type>
    <access>Native</access>
    <database>${QF_LOGGING_DB_DATABASE}</database>
    <port>${QF_LOGGING_DB_PORT}</port>
    <username>${QF_LOGGING_DB_USERNAME}</username>
    <password>${QF_LOGGING_DB_PASSWORD}</password>
    <servername />
    <data_tablespace />
    <index_tablespace />
    <attributes>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_LOWERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>FORCE_IDENTIFIERS_TO_UPPERCASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>IS_CLUSTERED</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>PORT_NUMBER</code>
        <attribute>${QF_LOGGING_DB_PORT}</attribute>
      </attribute>
      <attribute>
        <code>PRESERVE_RESERVED_WORD_CASE</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>QUOTE_ALL_FIELDS</code>
        <attribute>N</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_BOOLEAN_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>SUPPORTS_TIMESTAMP_DATA_TYPE</code>
        <attribute>Y</attribute>
      </attribute>
      <attribute>
        <code>USE_POOLING</code>
        <attribute>N</attribute>
      </attribute>
    </attributes>
  </connection>
  <slaveservers>
    </slaveservers>
  <job-log-table>
    <connection>${QF_LOGGING_DB_CONNECTION}</connection>
    <schema>${QF_LOG_JOB_SCHEMA}</schema>
    <table>${QF_LOG_JOB_TABLE}</table>
    <size_limit_lines />
    <interval />
    <timeout_days>${QF_LOG_JOB_TIMEOUT_IN_DAYS}</timeout_days>
    <field>
      <id>ID_JOB</id>
      <enabled>Y</enabled>
      <name>ID_JOB</name>
    </field>
    <field>
      <id>CHANNEL_ID</id>
      <enabled>Y</enabled>
      <name>CHANNEL_ID</name>
    </field>
    <field>
      <id>JOBNAME</id>
      <enabled>Y</enabled>
      <name>JOBNAME</name>
    </field>
    <field>
      <id>STATUS</id>
      <enabled>Y</enabled>
      <name>STATUS</name>
    </field>
    <field>
      <id>LINES_READ</id>
      <enabled>Y</enabled>
      <name>LINES_READ</name>
    </field>
    <field>
      <id>LINES_WRITTEN</id>
      <enabled>Y</enabled>
      <name>LINES_WRITTEN</name>
    </field>
    <field>
      <id>LINES_UPDATED</id>
      <enabled>Y</enabled>
      <name>LINES_UPDATED</name>
    </field>
    <field>
      <id>LINES_INPUT</id>
      <enabled>Y</enabled>
      <name>LINES_INPUT</name>
    </field>
    <field>
      <id>LINES_OUTPUT</id>
      <enabled>Y</enabled>
      <name>LINES_OUTPUT</name>
    </field>
    <field>
      <id>LINES_REJECTED</id>
      <enabled>Y</enabled>
      <name>LINES_REJECTED</name>
    </field>
    <field>
      <id>ERRORS</id>
      <enabled>Y</enabled>
      <name>ERRORS</name>
    </field>
    <field>
      <id>STARTDATE</id>
      <enabled>Y</enabled>
      <name>STARTDATE</name>
    </field>
    <field>
      <id>ENDDATE</id>
      <enabled>Y</enabled>
      <name>ENDDATE</name>
    </field>
    <field>
      <id>LOGDATE</id>
      <enabled>Y</enabled>
      <name>LOGDATE</name>
    </field>
    <field>
      <id>DEPDATE</id>
      <enabled>Y</enabled>
      <name>DEPDATE</name>
    </field>
    <field>
      <id>REPLAYDATE</id>
      <enabled>Y</enabled>
      <name>REPLAYDATE</name>
    </field>
    <field>
      <id>LOG_FIELD</id>
      <enabled>Y</enabled>
      <name>LOG_FIELD</name>
    </field>
    <field>
      <id>EXECUTING_SERVER</id>
      <enabled>N</enabled>
      <name>EXECUTING_SERVER</name>
    </field>
    <field>
      <id>EXECUTING_USER</id>
      <enabled>N</enabled>
      <name>EXECUTING_USER</name>
    </field>
    <field>
      <id>START_JOB_ENTRY</id>
      <enabled>N</enabled>
      <name>START_JOB_ENTRY</name>
    </field>
    <field>
      <id>CLIENT</id>
      <enabled>N</enabled>
      <name>CLIENT</name>
    </field>
  </job-log-table>
  <jobentry-log-table>
    <connection>${QF_LOGGING_DB_CONNECTION}</connection>
    <schema>${QF_LOG_JOBENTRY_SCHEMA}</schema>
    <table>${QF_LOG_JOBENTRY_TABLE}</table>
    <timeout_days>${QF_LOG_JOBENTRY_TIMEOUT_IN_DAYS}</timeout_days>
    <field>
      <id>ID_BATCH</id>
      <enabled>Y</enabled>
      <name>ID_BATCH</name>
    </field>
    <field>
      <id>CHANNEL_ID</id>
      <enabled>Y</enabled>
      <name>CHANNEL_ID</name>
    </field>
    <field>
      <id>LOG_DATE</id>
      <enabled>Y</enabled>
      <name>LOG_DATE</name>
    </field>
    <field>
      <id>JOBNAME</id>
      <enabled>Y</enabled>
      <name>TRANSNAME</name>
    </field>
    <field>
      <id>JOBENTRYNAME</id>
      <enabled>Y</enabled>
      <name>STEPNAME</name>
    </field>
    <field>
      <id>LINES_READ</id>
      <enabled>Y</enabled>
      <name>LINES_READ</name>
    </field>
    <field>
      <id>LINES_WRITTEN</id>
      <enabled>Y</enabled>
      <name>LINES_WRITTEN</name>
    </field>
    <field>
      <id>LINES_UPDATED</id>
      <enabled>Y</enabled>
      <name>LINES_UPDATED</name>
    </field>
    <field>
      <id>LINES_INPUT</id>
      <enabled>Y</enabled>
      <name>LINES_INPUT</name>
    </field>
    <field>
      <id>LINES_OUTPUT</id>
      <enabled>Y</enabled>
      <name>LINES_OUTPUT</name>
    </field>
    <field>
      <id>LINES_REJECTED</id>
      <enabled>Y</enabled>
      <name>LINES_REJECTED</name>
    </field>
    <field>
      <id>ERRORS</id>
      <enabled>Y</enabled>
      <name>ERRORS</name>
    </field>
    <field>
      <id>RESULT</id>
      <enabled>Y</enabled>
      <name>RESULT</name>
    </field>
    <field>
      <id>NR_RESULT_ROWS</id>
      <enabled>Y</enabled>
      <name>NR_RESULT_ROWS</name>
    </field>
    <field>
      <id>NR_RESULT_FILES</id>
      <enabled>Y</enabled>
      <name>NR_RESULT_FILES</name>
    </field>
    <field>
      <id>LOG_FIELD</id>
      <enabled>N</enabled>
      <name>LOG_FIELD</name>
    </field>
    <field>
      <id>COPY_NR</id>
      <enabled>N</enabled>
      <name>COPY_NR</name>
    </field>
  </jobentry-log-table>
  <channel-log-table>
    <connection>${QF_LOGGING_DB_CONNECTION}</connection>
    <schema>${QF_LOG_CHANNEL_SCHEMA}</schema>
    <table>${QF_LOG_CHANNEL_TABLE}</table>
    <timeout_days>${QF_LOG_CHANNEL_TIMEOUT_IN_DAYS}</timeout_days>
    <field>
      <id>ID_BATCH</id>
      <enabled>Y</enabled>
      <name>ID_BATCH</name>
    </field>
    <field>
      <id>CHANNEL_ID</id>
      <enabled>Y</enabled>
      <name>CHANNEL_ID</name>
    </field>
    <field>
      <id>LOG_DATE</id>
      <enabled>Y</enabled>
      <name>LOG_DATE</name>
    </field>
    <field>
      <id>LOGGING_OBJECT_TYPE</id>
      <enabled>Y</enabled>
      <name>LOGGING_OBJECT_TYPE</name>
    </field>
    <field>
      <id>OBJECT_NAME</id>
      <enabled>Y</enabled>
      <name>OBJECT_NAME</name>
    </field>
    <field>
      <id>OBJECT_COPY</id>
      <enabled>Y</enabled>
      <name>OBJECT_COPY</name>
    </field>
    <field>
      <id>REPOSITORY_DIRECTORY</id>
      <enabled>Y</enabled>
      <name>REPOSITORY_DIRECTORY</name>
    </field>
    <field>
      <id>FILENAME</id>
      <enabled>Y</enabled>
      <name>FILENAME</name>
    </field>
    <field>
      <id>OBJECT_ID</id>
      <enabled>Y</enabled>
      <name>OBJECT_ID</name>
    </field>
    <field>
      <id>OBJECT_REVISION</id>
      <enabled>Y</enabled>
      <name>OBJECT_REVISION</name>
    </field>
    <field>
      <id>PARENT_CHANNEL_ID</id>
      <enabled>Y</enabled>
      <name>PARENT_CHANNEL_ID</name>
    </field>
    <field>
      <id>ROOT_CHANNEL_ID</id>
      <enabled>Y</enabled>
      <name>ROOT_CHANNEL_ID</name>
    </field>
  </channel-log-table>
  <pass_batchid>Y</pass_batchid>
  <shared_objects_file />
  <entries>
    <entry>
      <name>START</name>
      <description />
      <type>SPECIAL</type>
      <start>Y</start>
      <dummy>N</dummy>
      <repeat>N</repeat>
      <schedulerType>0</schedulerType>
      <intervalSeconds>0</intervalSeconds>
      <intervalMinutes>60</intervalMinutes>
      <hour>12</hour>
      <minutes>0</minutes>
      <weekDay>1</weekDay>
      <DayOfMonth>1</DayOfMonth>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>48</xloc>
      <yloc>336</yloc>
    </entry>
    <entry>
      <name>tr_target-compare_table-inject_meta</name>
      <description />
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id />
      <filename />
      <transname>tr_target-compare_table-inject_meta</transname>
      <directory>${Internal.Entry.Current.Directory}</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile />
      <logext />
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name />
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <run_configuration>Pentaho local</run_configuration>
      <parameters>
        <pass_all_parameters>Y</pass_all_parameters>
        <parameter>
          <name>PARAM_DYN_DB_CONN_SOURCE_DB_HOST</name>
          <stream_name />
          <value>${QF_DYN_DB_CONN_DB_HOST}</value>
        </parameter>
        <parameter>
          <name>PARAM_DYN_DB_CONN_SOURCE_DB_PORT</name>
          <stream_name />
          <value>${QF_DYN_DB_CONN_DB_PORT}</value>
        </parameter>
        <parameter>
          <name>PARAM_DYN_DB_CONN_SOURCE_DB_DATABASE</name>
          <stream_name />
          <value>${QF_DYN_DB_CONN_DB_DATABASE}</value>
        </parameter>
        <parameter>
          <name>PARAM_DYN_DB_CONN_SOURCE_DB_USERNAME</name>
          <stream_name />
          <value>${QF_DYN_DB_CONN_DB_USERNAME}</value>
        </parameter>
        <parameter>
          <name>PARAM_DYN_DB_CONN_SOURCE_DB_PASSWORD</name>
          <stream_name />
          <value>${QF_DYN_DB_CONN_DB_PASSWORD}</value>
        </parameter>
        <parameter>
          <name>PARAM_DYN_DB_CONN_SOURCE_DB_URL</name>
          <stream_name />
          <value>${QF_DYN_DB_CONN_DB_URL}</value>
        </parameter>
        <parameter>
          <name>PARAM_DYN_DB_CONN_SOURCE_DB_DRIVER</name>
          <stream_name />
          <value>${QF_DYN_DB_CONN_DB_DRIVER}</value>
        </parameter>
        <parameter>
          <name>PARAM_INSERT_ID_FROM</name>
          <stream_name />
          <value>${QF_MIRROR_COMPARE_INSERT_ID_FROM}</value>
        </parameter>
        <parameter>
          <name>PARAM_INSERT_ID_TO</name>
          <stream_name />
          <value>${QF_MIRROR_COMPARE_INSERT_ID_TO}</value>
        </parameter>
      </parameters>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>512</xloc>
      <yloc>944</yloc>
    </entry>
    <entry>
      <name>jb_log_error 6</name>
      <description />
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id />
      <filename />
      <jobname>jb_log_error</jobname>
      <directory>/generic</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile />
      <logext />
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name />
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <parameters>
        <pass_all_parameters>Y</pass_all_parameters>
        <parameter>
          <name>PARAM_ERROR_MESSAGE</name>
          <stream_name />
          <value>Error executing tr_target-compare_table-inject_meta for target DB table: ${PARAM_TARGET_SCHEMA}.${PARAM_TARGET_TABLE}</value>
        </parameter>
      </parameters>
      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>208</xloc>
      <yloc>944</yloc>
    </entry>
    <entry>
      <name>Abort job</name>
      <description />
      <type>ABORT</type>
      <message>Aborting jb_target-compare_table</message>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>48</xloc>
      <yloc>720</yloc>
    </entry>
    <entry>
      <name>Are columns to compare configured for this table?</name>
      <description />
      <type>EVAL_TABLE_CONTENT</type>
      <connection>etl_db</connection>
      <schemaname />
      <tablename />
      <success_condition>rows_count_greater</success_condition>
      <limit>0</limit>
      <is_custom_sql>Y</is_custom_sql>
      <is_usevars>Y</is_usevars>
      <custom_sql>SELECT
    source_column_name AS "source_col_name", 
    NULL AS "source_col_length", 
    -- The value "-1" is injected into the "Select values" step of the ETL metadata injection template transformation
    -- to specify the "precision" of the "source_col_name" &amp; "target_col_name" fields. If this is not done, a problem 
    -- was observed for fields created by loading data from database columns of PostgreSQL data type "double precison".
    -- For such fields, it was observed that the values written out to a "target" database via a "Table output" step 
    -- were truncated to integers. Ideally, the precision should probably be set to something like 15 or 16 for this 
    -- case (double precision columns), but this value may not be appropriate for other data types. It was only by 
    -- experimenting that I found that injecting "-1" solved the problem for double precision columns. I have decided 
    -- to specify this for *all* columns until/unless I encounter a problem by doing this. If a problem does arise one 
    -- day, it may be necessary to update the definition of the ${QF_ETL_DB_SCHEMA}.column_meta table of the 
    -- "${QF_ETL_DB_SCHEMA}" database to include 
    -- a real column to store the column "precision" on a column-by-column basis. For columns that do not need a 
    -- "precision" to be specified, NULL can be stored in this column. This will also require updating the 
    -- "populate_etl_metadata_tables" ETL code that generates default metadata.
    -1 AS "source_col_precision", 
    target_column_name AS "target_col_name" 
FROM 
    ${QF_ETL_DB_SCHEMA}.column_meta 
WHERE 
    table_meta_id = ${PARAM_TABLE_META_ID} AND 
    -- Although the primary key columns don't need to ne compared, they
    -- are needed by the "Merge Rows" step so they are included here.
    (compare_column=true OR is_primary_key_column=true) 
ORDER BY 
    column_meta_id ASC  -- must use the same sort order in "Target DB column names to compare"</custom_sql>
      <add_rows_result>N</add_rows_result>
      <clear_result_rows>Y</clear_result_rows>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>512</xloc>
      <yloc>432</yloc>
    </entry>
    <entry>
      <name>jb_log_error 1</name>
      <description />
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id />
      <filename />
      <jobname>jb_log_error</jobname>
      <directory>/generic</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile />
      <logext />
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name />
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <parameters>
        <pass_all_parameters>Y</pass_all_parameters>
        <parameter>
          <name>PARAM_ERROR_MESSAGE</name>
          <stream_name />
          <value>No columns have been configured to be compared for source table: ${PARAM_SOURCE_SCHEMA}.${PARAM_SOURCE_TABLE}</value>
        </parameter>
      </parameters>
      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>1</nr>
      <xloc>208</xloc>
      <yloc>432</yloc>
    </entry>
    <entry>
      <name>Success 2</name>
      <description />
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>48</xloc>
      <yloc>432</yloc>
    </entry>
    <entry>
      <name>Log parameters</name>
      <description />
      <type>WRITE_TO_LOG</type>
      <logmessage>PARAM_CDC_LAST_LOAD_UTC              = ${PARAM_CDC_LAST_LOAD_UTC}
PARAM_MAX_NUM_COMPARE_ROWS           = ${PARAM_MAX_NUM_COMPARE_ROWS}
PARAM_TABLE_META_ID                  = ${PARAM_TABLE_META_ID}
PARAM_DYN_DB_CONN_TARGET_DB_HOST     = ${PARAM_DYN_DB_CONN_TARGET_DB_HOST}
PARAM_DYN_DB_CONN_TARGET_DB_PORT     = ${PARAM_DYN_DB_CONN_TARGET_DB_PORT}
PARAM_DYN_DB_CONN_TARGET_DB_DATABASE = ${PARAM_DYN_DB_CONN_TARGET_DB_DATABASE}
PARAM_DYN_DB_CONN_TARGET_DB_USERNAME = ${PARAM_DYN_DB_CONN_TARGET_DB_USERNAME}
PARAM_DYN_DB_CONN_TARGET_DB_PASSWORD = ${PARAM_DYN_DB_CONN_TARGET_DB_PASSWORD}
PARAM_DYN_DB_CONN_TARGET_DB_URL      = ${PARAM_DYN_DB_CONN_TARGET_DB_URL}
PARAM_DYN_DB_CONN_TARGET_DB_DRIVER   = ${PARAM_DYN_DB_CONN_TARGET_DB_DRIVER}
PARAM_SOURCE_DB_ID                   = ${PARAM_SOURCE_DB_ID}
PARAM_SOURCE_SCHEMA                  = ${PARAM_SOURCE_SCHEMA}
PARAM_SOURCE_TABLE                   = ${PARAM_SOURCE_TABLE}
PARAM_SOURCE_SCHEMA_TABLE            = ${PARAM_SOURCE_SCHEMA_TABLE}
PARAM_SOURCE_INSERT_ID_COLNAME       = ${PARAM_SOURCE_INSERT_ID_COLNAME}
PARAM_TARGET_DB_ID                   = ${PARAM_TARGET_DB_ID}
PARAM_TARGET_SCHEMA                  = ${PARAM_TARGET_SCHEMA}
PARAM_TARGET_TABLE                   = ${PARAM_TARGET_TABLE}
PARAM_TARGET_SCHEMA_TABLE            = ${PARAM_TARGET_SCHEMA_TABLE}
PARAM_TARGET_INSERT_ID_COLNAME       = ${PARAM_TARGET_INSERT_ID_COLNAME}
PARAM_UPDATE_ALGORITHM_ID            = ${PARAM_UPDATE_ALGORITHM_ID}</logmessage>
      <loglevel>Minimal</loglevel>
      <logsubject>Parameters received by ${Internal.Job.Name}</logsubject>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>208</xloc>
      <yloc>336</yloc>
    </entry>
    <entry>
      <name>Success</name>
      <description />
      <type>SUCCESS</type>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>512</xloc>
      <yloc>1040</yloc>
    </entry>
    <entry>
      <name>tr_target-compare_table-get_insert_id_from_to</name>
      <description />
      <type>TRANS</type>
      <specification_method>rep_name</specification_method>
      <trans_object_id />
      <filename />
      <transname>tr_target-compare_table-get_insert_id_from_to</transname>
      <directory>${Internal.Entry.Current.Directory}</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <clear_rows>N</clear_rows>
      <clear_files>N</clear_files>
      <set_logfile>N</set_logfile>
      <logfile />
      <logext />
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Basic</loglevel>
      <cluster>N</cluster>
      <slave_server_name />
      <set_append_logfile>N</set_append_logfile>
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <create_parent_folder>N</create_parent_folder>
      <logging_remote_work>N</logging_remote_work>
      <run_configuration>Pentaho local</run_configuration>
      <parameters>
        <pass_all_parameters>Y</pass_all_parameters>
        <parameter>
          <name>PARAM_DYN_DB_CONN_SOURCE_DB_HOST</name>
          <stream_name />
          <value>${QF_DYN_DB_CONN_DB_HOST}</value>
        </parameter>
        <parameter>
          <name>PARAM_DYN_DB_CONN_SOURCE_DB_PORT</name>
          <stream_name />
          <value>${QF_DYN_DB_CONN_DB_PORT}</value>
        </parameter>
        <parameter>
          <name>PARAM_DYN_DB_CONN_SOURCE_DB_DATABASE</name>
          <stream_name />
          <value>${QF_DYN_DB_CONN_DB_DATABASE}</value>
        </parameter>
        <parameter>
          <name>PARAM_DYN_DB_CONN_SOURCE_DB_USERNAME</name>
          <stream_name />
          <value>${QF_DYN_DB_CONN_DB_USERNAME}</value>
        </parameter>
        <parameter>
          <name>PARAM_DYN_DB_CONN_SOURCE_DB_PASSWORD</name>
          <stream_name />
          <value>${QF_DYN_DB_CONN_DB_PASSWORD}</value>
        </parameter>
        <parameter>
          <name>PARAM_DYN_DB_CONN_SOURCE_DB_URL</name>
          <stream_name />
          <value>${QF_DYN_DB_CONN_DB_URL}</value>
        </parameter>
        <parameter>
          <name>PARAM_DYN_DB_CONN_SOURCE_DB_DRIVER</name>
          <stream_name />
          <value>${QF_DYN_DB_CONN_DB_DRIVER}</value>
        </parameter>
      </parameters>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>384</xloc>
      <yloc>720</yloc>
    </entry>
    <entry>
      <name>Log: "insert_id" from/to values</name>
      <description />
      <type>WRITE_TO_LOG</type>
      <logmessage>PARAM_SOURCE_INSERT_ID_COLNAME   = ${PARAM_SOURCE_INSERT_ID_COLNAME}
PARAM_TARGET_INSERT_ID_COLNAME   = ${PARAM_TARGET_INSERT_ID_COLNAME}
QF_MIRROR_COMPARE_INSERT_ID_FROM = ${QF_MIRROR_COMPARE_INSERT_ID_FROM}
QF_MIRROR_COMPARE_INSERT_ID_TO   = ${QF_MIRROR_COMPARE_INSERT_ID_TO}
</logmessage>
      <loglevel>Basic</loglevel>
      <logsubject>Variables set by tr_target-compare_table-get_insert_id_from_to or initialized to zero</logsubject>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>512</xloc>
      <yloc>848</yloc>
    </entry>
    <entry>
      <name>jb_log_error 5</name>
      <description />
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id />
      <filename />
      <jobname>jb_log_error</jobname>
      <directory>/generic</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile />
      <logext />
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name />
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <parameters>
        <pass_all_parameters>Y</pass_all_parameters>
        <parameter>
          <name>PARAM_ERROR_MESSAGE</name>
          <stream_name />
          <value>Error executing step 'Log: "insert_id" "from" &amp; "to" values' for target DB table: ${PARAM_TARGET_SCHEMA}.${PARAM_TARGET_TABLE}</value>
        </parameter>
      </parameters>
      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>208</xloc>
      <yloc>848</yloc>
    </entry>
    <entry>
      <name>jb_log_error 4</name>
      <description />
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id />
      <filename />
      <jobname>jb_log_error</jobname>
      <directory>/generic</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile />
      <logext />
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name />
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <parameters>
        <pass_all_parameters>Y</pass_all_parameters>
        <parameter>
          <name>PARAM_ERROR_MESSAGE</name>
          <stream_name />
          <value>Error executing tr_target-compare_table-get_insert_id_from_to for target DB table: ${PARAM_TARGET_SCHEMA}.${PARAM_TARGET_TABLE}</value>
        </parameter>
      </parameters>
      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>192</xloc>
      <yloc>720</yloc>
    </entry>
    <entry>
      <name>jb_log_error 2</name>
      <description />
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id />
      <filename />
      <jobname>jb_log_error</jobname>
      <directory>/generic</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile />
      <logext />
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name />
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <parameters>
        <pass_all_parameters>Y</pass_all_parameters>
        <parameter>
          <name>PARAM_ERROR_MESSAGE</name>
          <stream_name />
          <value>No primary key columns have been configured for source table: ${PARAM_SOURCE_SCHEMA}.${PARAM_SOURCE_TABLE}</value>
        </parameter>
      </parameters>
      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>2</nr>
      <xloc>208</xloc>
      <yloc>528</yloc>
    </entry>
    <entry>
      <name>Are primary key columns configured for this table?</name>
      <description />
      <type>EVAL_TABLE_CONTENT</type>
      <connection>etl_db</connection>
      <schemaname />
      <tablename />
      <success_condition>rows_count_greater</success_condition>
      <limit>0</limit>
      <is_custom_sql>Y</is_custom_sql>
      <is_usevars>Y</is_usevars>
      <custom_sql>SELECT
    source_column_name AS "source_key_col_name" 
FROM 
    ${QF_ETL_DB_SCHEMA}.column_meta 
WHERE 
    table_meta_id = ${PARAM_TABLE_META_ID} AND 
    is_primary_key_column = true
ORDER BY 
    primary_key_column_order</custom_sql>
      <add_rows_result>N</add_rows_result>
      <clear_result_rows>Y</clear_result_rows>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>1</nr>
      <xloc>512</xloc>
      <yloc>528</yloc>
    </entry>
    <entry>
      <name>jb_set_dynamic_db_connection_variables</name>
      <description />
      <type>JOB</type>
      <specification_method>rep_name</specification_method>
      <job_object_id />
      <filename />
      <jobname>jb_set_dynamic_db_connection_variables</jobname>
      <directory>/generic/dynamic_db_connections</directory>
      <arg_from_previous>N</arg_from_previous>
      <params_from_previous>N</params_from_previous>
      <exec_per_row>N</exec_per_row>
      <set_logfile>N</set_logfile>
      <logfile />
      <logext />
      <add_date>N</add_date>
      <add_time>N</add_time>
      <loglevel>Nothing</loglevel>
      <slave_server_name />
      <wait_until_finished>Y</wait_until_finished>
      <follow_abort_remote>N</follow_abort_remote>
      <expand_remote_job>N</expand_remote_job>
      <create_parent_folder>N</create_parent_folder>
      <pass_export>N</pass_export>
      <parameters>
        <pass_all_parameters>Y</pass_all_parameters>
        <parameter>
          <name>PARAM_DB_ID</name>
          <stream_name />
          <value>${PARAM_SOURCE_DB_ID}</value>
        </parameter>
      </parameters>
      <set_append_logfile>N</set_append_logfile>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>512</xloc>
      <yloc>336</yloc>
    </entry>
    <entry>
      <name>Abort job 2</name>
      <description />
      <type>ABORT</type>
      <message>Aborting jb_target-compare_table</message>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>704</xloc>
      <yloc>336</yloc>
    </entry>
    <entry>
      <name>Set from/to "insert_id" vrbls=0</name>
      <description />
      <type>SET_VARIABLES</type>
      <replacevars>Y</replacevars>
      <filename />
      <file_variable_type>JVM</file_variable_type>
      <fields>
        <field>
          <variable_name>QF_MIRROR_COMPARE_INSERT_ID_FROM</variable_name>
          <variable_value>0</variable_value>
          <variable_type>ROOT_JOB</variable_type>
        </field>
        <field>
          <variable_name>QF_MIRROR_COMPARE_INSERT_ID_TO</variable_name>
          <variable_value>0</variable_value>
          <variable_type>ROOT_JOB</variable_type>
        </field>
      </fields>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>624</xloc>
      <yloc>720</yloc>
    </entry>
    <entry>
      <name>Do source and target tables have an "insert_id" column?</name>
      <description />
      <type>EVAL</type>
      <script>//!parent_job.getVariable("PARAM_SOURCE_INSERT_ID_COLNAME", "") &amp;&amp; !parent_job.getVariable("PARAM_TARGET_INSERT_ID_COLNAME", "")
//parent_job.getVariable("PARAM_SOURCE_INSERT_ID_COLNAME", "").length != 0 &amp;&amp; parent_job.getVariable("PARAM_TARGET_INSERT_ID_COLNAME", "").length != 0
!parent_job.getVariable("PARAM_SOURCE_INSERT_ID_COLNAME", "").equals("") &amp;&amp; !parent_job.getVariable("PARAM_TARGET_INSERT_ID_COLNAME", "").equals("")</script>
      <parallel>N</parallel>
      <draw>Y</draw>
      <nr>0</nr>
      <xloc>512</xloc>
      <yloc>624</yloc>
    </entry>
  </entries>
  <hops>
    <hop>
      <from>tr_target-compare_table-inject_meta</from>
      <to>jb_log_error 6</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jb_log_error 6</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>jb_log_error 1</from>
      <to>Abort job</to>
      <from_nr>1</from_nr>
      <to_nr>0</to_nr>
      <enabled>N</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>jb_log_error 1</from>
      <to>Success 2</to>
      <from_nr>1</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>START</from>
      <to>Log parameters</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>tr_target-compare_table-inject_meta</from>
      <to>Success</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>tr_target-compare_table-get_insert_id_from_to</from>
      <to>Log: "insert_id" from/to values</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>tr_target-compare_table-get_insert_id_from_to</from>
      <to>jb_log_error 4</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jb_log_error 4</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>Log: "insert_id" from/to values</from>
      <to>jb_log_error 5</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jb_log_error 5</from>
      <to>Abort job</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>Are columns to compare configured for this table?</from>
      <to>jb_log_error 1</to>
      <from_nr>0</from_nr>
      <to_nr>1</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jb_log_error 2</from>
      <to>Abort job</to>
      <from_nr>2</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>Are columns to compare configured for this table?</from>
      <to>Are primary key columns configured for this table?</to>
      <from_nr>0</from_nr>
      <to_nr>1</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Are primary key columns configured for this table?</from>
      <to>jb_log_error 2</to>
      <from_nr>1</from_nr>
      <to_nr>2</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Log parameters</from>
      <to>jb_set_dynamic_db_connection_variables</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>jb_set_dynamic_db_connection_variables</from>
      <to>Are columns to compare configured for this table?</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>jb_set_dynamic_db_connection_variables</from>
      <to>Abort job 2</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Log: "insert_id" from/to values</from>
      <to>tr_target-compare_table-inject_meta</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Set from/to "insert_id" vrbls=0</from>
      <to>Log: "insert_id" from/to values</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>Y</unconditional>
    </hop>
    <hop>
      <from>Are primary key columns configured for this table?</from>
      <to>Do source and target tables have an "insert_id" column?</to>
      <from_nr>1</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Do source and target tables have an "insert_id" column?</from>
      <to>Set from/to "insert_id" vrbls=0</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>N</evaluation>
      <unconditional>N</unconditional>
    </hop>
    <hop>
      <from>Do source and target tables have an "insert_id" column?</from>
      <to>tr_target-compare_table-get_insert_id_from_to</to>
      <from_nr>0</from_nr>
      <to_nr>0</to_nr>
      <enabled>Y</enabled>
      <evaluation>Y</evaluation>
      <unconditional>N</unconditional>
    </hop>
  </hops>
  <notepads>
    <notepad>
      <note>This job "compares" a single table from a source database with its corresponding table in the specified target database. This job has parameters:

	PARAM_CDC_LAST_LOAD_UTC					Timestamp for when the target DB tables were last updated from the source DBs
	PARAM_MAX_NUM_COMPARE_ROWS				Maximum number of rows that will be compared for these tables. 0 means *all* rows
	PARAM_TABLE_META_ID							Primary key of ${QF_ETL_DB_SCHEMA}.table_meta row for "source" table archived/mirrored to "target" table
	PARAM_DYN_DB_CONN_TARGET_DB_HOST		for target DB "dynamic" database connections
	PARAM_DYN_DB_CONN_TARGET_DB_PORT		for target DB "dynamic" database connections
	PARAM_DYN_DB_CONN_TARGET_DB_DATABASE	for target DB "dynamic" database connections
	PARAM_DYN_DB_CONN_TARGET_DB_USERNAME	for target DB "dynamic" database connections
	PARAM_DYN_DB_CONN_TARGET_DB_PASSWORD	for target DB "dynamic" database connections
	PARAM_DYN_DB_CONN_TARGET_DB_DRIVER		for target DB "dynamic" database connections
	PARAM_DYN_DB_CONN_TARGET_DB_URL			for target DB "dynamic" database connections
	PARAM_SOURCE_DB_ID							ID the "source" database containing tables that have been mirrored to a "target" database
	PARAM_SOURCE_SCHEMA						Name of schema containing the source table that has been mirrored to the target table
	PARAM_SOURCE_TABLE							Name of the source table that has been mirrored to the target table
	PARAM_SOURCE_SCHEMA_TABLE					${PARAM_SOURCE_SCHEMA}.${PARAM_SOURCE_TABLE}
	PARAM_SOURCE_INSERT_ID_COLNAME			Name of column acting as the "insert_id"  timestamp column of the source table
	PARAM_TARGET_DB_ID							ID of the "target" database to which "source" DB tables have been archived/mirrored
	PARAM_TARGET_SCHEMA						Name of schema containing the target table (not currently used?)
	PARAM_TARGET_TABLE							Name of the target table (not currently used?)
	PARAM_TARGET_SCHEMA_TABLE					${PARAM_TARGET_SCHEMA}.${PARAM_TARGET_TABLE}
	PARAM_TARGET_INSERT_ID_COLNAME			Name of column acting as the "insert_id" timestamp column of the target table
	PARAM_UPDATE_ALGORITHM_ID					ID of the algorithm used for mirroring/archiving the tables</note>
      <xloc>0</xloc>
      <yloc>0</yloc>
      <width>923</width>
      <heigth>309</heigth>
      <fontname>Ubuntu</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>This "Abort" is needed
to tell the root calling
job that execution has
failed.</note>
      <xloc>0</xloc>
      <yloc>768</yloc>
      <width>132</width>
      <heigth>62</heigth>
      <fontname>Ubuntu</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>This "Success" allows
execution to continue
without attempting to
compare the source
and target tables for
the case where no
column mapping 
metdata is provided
for the table.</note>
      <xloc>0</xloc>
      <yloc>480</yloc>
      <width>133</width>
      <heigth>127</heigth>
      <fontname>Ubuntu</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>tr_target-compare_table-inject_meta" compares the source and target tables using an "ETL Metadata Injection" step.</note>
      <xloc>688</xloc>
      <yloc>944</yloc>
      <width>653</width>
      <heigth>23</heigth>
      <fontname>Ubuntu</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>The query here (at least the WHERE clause) in this step must match the query in the step "Source &amp; Target DB column names to compare" in the
transformation "tr_target-compare_table-inject_meta" that is executed below. This is because a PDI runtime error occurs if an empty stream is
sent to an "ETL Metadata Injection" step. To avoid this possibility in "tr_target-compare_table-inject_meta", we check that metadata is available
here before executing that transformation. The only reason why this case should occur is if a table is marked for mirroring, but no column mapping
metdata is provided - this should never occur, but we check in order to provide a warning message, rather than letting PDI choke on this problem.</note>
      <xloc>688</xloc>
      <yloc>416</yloc>
      <width>815</width>
      <heigth>75</heigth>
      <fontname>Ubuntu</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>255</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>The query here (at least the WHERE clause) in this step must match the query in the step "Source DB primary key column names" in the
transformation "tr_target-compare_table-inject_meta" that is executed below. This is to avoid a PDI runtime error that would occur if no primary
key column metadata is availalbe for ETL metadata injection. The explanation is the same as that described for the previous step above.</note>
      <xloc>688</xloc>
      <yloc>512</yloc>
      <width>805</width>
      <heigth>49</heigth>
      <fontname>Ubuntu</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>255</backgroundcolorgreen>
      <backgroundcolorblue>0</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>This job sets the PDI variables:	QF_DYN_DB_CONN_DB_{HOST, PORT, ...}

based on a single parameter:	PARAM_DB_ID = PARAM_SOURCE_DB_ID</note>
      <xloc>768</xloc>
      <yloc>336</yloc>
      <width>404</width>
      <heigth>49</heigth>
      <fontname>Ubuntu</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>TODO:	This sub-transformation entry must abort the current
		job if it is not successful for every row. Is this the case?</note>
      <xloc>144</xloc>
      <yloc>992</yloc>
      <width>358</width>
      <heigth>36</heigth>
      <fontname>Ubuntu</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>255</fontcolorred>
      <fontcolorgreen>255</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>26</backgroundcolorred>
      <backgroundcolorgreen>26</backgroundcolorgreen>
      <backgroundcolorblue>26</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
    <notepad>
      <note>Description of variables:

	QF_MIRROR_COMPARE_INSERT_ID_FROM
	QF_MIRROR_COMPARE_INSERT_ID_TO

If the specified source &amp; target tables both have an "insert_id" column, then tr_target-compare_table-get_insert_id_from_to is executed
to assign values to variables QF_MIRROR_COMPARE_INSERT_ID_FROM/TO, taking into account the value of the parameter
PARAM_MAX_NUM_COMPARE_ROWS; otherwise, they are both set to zero.

The values of these variables are assigned to parameters PARAM_INSERT_ID_FROM/TO when tr_target-compare_table-inject_meta is 
executed below. If these parameters are both found to be zero in tr_target-compare_table-inject_meta, then *all* rows of the source and
target tables will be compare with each other. Otherwise, these parameters are used to select the block of rows that are compared in 
order to verify that the two tables "agree". This "insert_id" range will be table-specific, of course.

This approach provides a way to compare only a *subset* of all the rows from the two tables (via PARAM_MAX_NUM_COMPARE_ROWS).
More importantly, it restricts the block of rows that are compared to avoid comparing rows that would otherwise be reported as 
problems. These are rows that fall into one of two cases:

1.	Rows that have been *removed* from the source table that were mirrored earlier to the target table. We do not want to include these
	rows from target table because the comparision for these rows will definitely "fail" (compared_rows_missing>0 will be reported).
2.	Rows that have been *added* to the source table after the last mirror operation updated the target table. We do not want to include
	these rows in the comparison because we cannot expect them to be found (yet) in the target table (compared_rows_extra>0 will be 
	reported). Presumably, these rows will be be mirrored to the target table the next time the update code is run.</note>
      <xloc>736</xloc>
      <yloc>592</yloc>
      <width>775</width>
      <heigth>309</heigth>
      <fontname>Ubuntu</fontname>
      <fontsize>9</fontsize>
      <fontbold>N</fontbold>
      <fontitalic>N</fontitalic>
      <fontcolorred>0</fontcolorred>
      <fontcolorgreen>0</fontcolorgreen>
      <fontcolorblue>0</fontcolorblue>
      <backgroundcolorred>255</backgroundcolorred>
      <backgroundcolorgreen>205</backgroundcolorgreen>
      <backgroundcolorblue>112</backgroundcolorblue>
      <bordercolorred>100</bordercolorred>
      <bordercolorgreen>100</bordercolorgreen>
      <bordercolorblue>100</bordercolorblue>
      <drawshadow>Y</drawshadow>
    </notepad>
  </notepads>
  <attributes>
    <group>
      <name>METASTORE.pentaho</name>
      <attribute>
        <key>Default Run Configuration</key>
        <value>{"namespace":"pentaho","id":"Default Run Configuration","name":"Default Run Configuration","description":"Defines a default run configuration","metaStoreName":null}</value>
      </attribute>
    </group>
    <group>
      <name>{"_":"Embedded MetaStore Elements","namespace":"pentaho","type":"Default Run Configuration"}</name>
      <attribute>
        <key>Pentaho local</key>
        <value>{"children":[{"children":[],"id":"server","value":null},{"children":[],"id":"clustered","value":"N"},{"children":[],"id":"name","value":"Pentaho local"},{"children":[],"id":"description","value":null},{"children":[],"id":"readOnly","value":"Y"},{"children":[],"id":"sendResources","value":"N"},{"children":[],"id":"logRemoteExecutionLocally","value":"N"},{"children":[],"id":"remote","value":"N"},{"children":[],"id":"local","value":"Y"},{"children":[],"id":"showTransformations","value":"N"}],"id":"Pentaho local","value":null,"name":"Pentaho local","owner":null,"ownerPermissionsList":[]}</value>
      </attribute>
    </group>
  </attributes>
</job>
